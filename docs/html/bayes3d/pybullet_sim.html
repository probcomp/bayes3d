<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>bayes3d.pybullet_sim API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>bayes3d.pybullet_sim</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import pybullet as p
import pybullet_data
import numpy as np
import jax.numpy as jnp
import open3d as o3d
import trimesh as tm
import bayes3d as b
import bayes3d.transforms_3d as t3d
import imageio
from scipy.spatial.transform import Rotation as R
from PIL import Image

def o3d_to_pybullet_position(o3d_position):
    return np.array(o3d_position)

def o3d_to_pybullet_pose(o3d_pose):
    pybullet_pose = o3d_pose
    pybullet_pose[3, :3] = -pybullet_pose[3, :3]  # Convert rotation from Open3D to PyBullet
    return pybullet_pose

def pybullet_to_o3d_position(pybullet_position):
    return pybullet_position

def pybullet_to_o3d_pose(pybullet_pose):
    o3d_pose = pybullet_pose
    o3d_pose[3, :3] = -o3d_pose[3, :3]  # Convert rotation from PyBullet to Open3D
    return o3d_pose

def o3d_to_trimesh(mesh):
    vertices = np.asarray(mesh.vertices)
    faces = np.asarray(mesh.triangles)
    mesh.compute_triangle_normals()
    mesh.compute_vertex_normals()
    tri_normals = np.asarray(mesh.triangle_normals)
    vert_normals = np.asarray(mesh.vertex_normals)
    mesh = tm.Trimesh(vertices=vertices, faces=faces, vertex_normals=vert_normals, face_normals=tri_normals)
    return mesh

def o3d_render(scene): 
    intrinsics = o3d.camera.PinholeCameraIntrinsic()
    renderer = b.o3d_viz.O3DVis(intrinsics=intrinsics) 
    for body in scene.bodies.values():
        mesh = body.mesh
        pose = body.pose
        renderer.render_mesh(mesh, pose)
    camera_pose = scene.camera.pose
    image = renderer.render(camera_pose)
    return image

def pybullet_render(scene):
    &#34;&#34;&#34;
    Renders a scene using PyBullet.

    Args:
        scene (Scene): The scene object.

    Returns:
        PIL.Image.Image: The rendered image.
    &#34;&#34;&#34;
    pyb_sim = PybulletSimulator(camera=scene.camera, floor = scene.floor)
    for body in scene.bodies.values():
        pyb_sim.add_body_to_simulation(body)
    image_rgb, depth, _ = pyb_sim.capture_image(scene.camera)
    pyb_sim.close()
    image = Image.fromarray(image_rgb)
    depth = depth - (min(depth.flatten()))
    depth = depth / (max(depth.flatten()))
    depth = depth * 255
    depth = depth.astype(np.uint8)
    depth = Image.fromarray(depth)
    return image, depth

def create_box(pose, scale = [1,1,1], restitution=1, friction=0, velocity=0, angular_velocity = [0,0,0], id=None):
    &#34;&#34;&#34;
    Creates a box-shaped Body object.
    &#34;&#34;&#34;
    position = pose[:3, 3]
    orientation = pose[:3, :3]
    return create_box(position, scale, restitution, friction, velocity, angular_velocity, orientation, id)


def create_box(position, scale=[1,1,1], restitution=1, friction=0, velocity=0, angular_velocity = [0,0,0], orientation=None, id=None):
    &#34;&#34;&#34;
    Creates a box-shaped Body object.
    &#34;&#34;&#34;
    path_to_box = &#34;../assets/sample_objs/cube.obj&#34;
    mesh = tm.load(path_to_box)
    pose = np.eye(4)
    pose[:3, :3] = orientation if orientation is not None else np.eye(3)
    pose[:3, 3] = position
    obj_id = &#34;box&#34; if id is None else id
    body = Body(obj_id, pose, mesh, file_dir=path_to_box, restitution=restitution, friction=friction, velocity=velocity, angular_velocity=angular_velocity, scale=scale)
    return body


def create_sphere(position, scale = [1,1,1], velocity=0, angular_velocity = [0,0,0], restitution=1, friction=0, id=None):
    &#34;&#34;&#34;
    Creates a sphere-shaped Body object.

    Args:
        position (np.ndarray): The position of the sphere.
        radius (float): The radius of the sphere.
        velocity (float, optional): The initial velocity of the sphere. Default is 0.
        restitution (float, optional): The restitution coefficient of the sphere. Default is 1.
        friction (float, optional): The friction coefficient of the sphere. Default is 0.
        id (str, optional): The ID of the sphere. Default is None.

    Returns:
        Body: The created Body object representing the sphere.
    &#34;&#34;&#34;
    path_to_sphere = &#34;../assets/sample_objs/sphere.obj&#34;
    mesh = tm.load(path_to_sphere)
    pose = np.eye(4)
    pose[:3, 3] = position
    obj_id = &#34;sphere&#34; if id is None else id
    body = Body(obj_id, pose, mesh, file_dir=path_to_sphere, restitution=restitution, friction=friction, velocity=velocity, angular_velocity=angular_velocity, scale = scale)
    return body


def make_body_from_obj_pose(obj_path, pose, velocity=0, angular_velocity = [0,0,0], restitution=1, friction=0, id=None, scale = None ):
    &#34;&#34;&#34;
    Creates a Body object from an OBJ file with a given pose.

    Args:
        obj_path (str): The path to the OBJ file.
        pose (np.ndarray): The pose of the object.
        velocity (float, optional): The initial velocity of the object. Default is 0.
        restitution (float, optional): The restitution coefficient of the object. Default is 1.
        friction (float, optional): The friction coefficient of the object. Default is 0.
        id (str, optional): The ID of the object. Default is None.

    Returns:
        Body: The created Body object.
    &#34;&#34;&#34;
    mesh = tm.load(obj_path)
    obj_id = &#34;obj_mesh&#34; if id is None else id
    body = Body(obj_id, pose, mesh, velocity=velocity, angular_velocity = angular_velocity, friction=friction, restitution=restitution, file_dir=obj_path, scale = scale)
    return body


def make_body_from_obj(obj_path, position, friction=0, restitution=1, velocity=0, angular_velocity = [0,0,0], orientation=None, id=None, scale=None):
    &#34;&#34;&#34;
    Creates a Body object from an OBJ file with a given position.

    Args:
        obj_path (str): The path to the OBJ file.
        position (np.ndarray): The position of the object.
        friction (float, optional): The friction coefficient of the object. Default is 0.
        restitution (float, optional): The restitution coefficient of the object. Default is 1.
        velocity (float, optional): The initial velocity of the object. Default is 0.
        orientation (np.ndarray, optional): The orientation of the object as a rotation matrix. Default is None.
        id (str, optional): The ID of the object. Default is None.

    Returns:
        Body: The created Body object.
    &#34;&#34;&#34;
    pose = np.eye(4)
    pose[:3, :3] = orientation if orientation is not None else np.eye(3)
    pose[:3, 3] = position
    return make_body_from_obj_pose(obj_path, pose, id=id, friction=friction, restitution=restitution, velocity=velocity, scale=scale, angular_velocity=angular_velocity)

class Body:
    def __init__(self, object_id, pose, mesh, file_dir = None, restitution=0.8, friction=0, damping=0, transparency=1, velocity=[0,0,0], angular_velocity = [0,0,0],mass=1, texture=None, color=[1, 0, 0], scale=None):
        self.id = object_id
        self.pose = pose
        self.restitution = restitution
        self.friction = friction
        self.damping = damping
        self.transparency = transparency
        self.velocity = velocity
        self.angular_velocity = angular_velocity
        self.texture = texture
        self.color = color
        self.mass = mass
        self.file_dir = file_dir
        self.mesh = mesh
        self.scale = scale

    # Getter methods
    def get_id(self):
        return self.id

    def get_pose(self):
        return self.pose

    def get_mesh(self):
        return self.mesh

    def get_restitution(self):
        return self.restitution

    def get_friction(self):
        return self.friction

    def get_damping(self):
        return self.damping

    def get_transparency(self):
        return self.transparency

    def get_velocity(self):
        return self.velocity
    
    def get_angular_velocity(self):
        return self.angular_velocity

    def get_mass(self):
        return self.mass

    def get_texture(self):
        return self.texture

    def get_color(self):
        return self.color

    def get_position(self):
        return self.pose[:3, 3]

    def get_orientation(self):
        return self.pose[:3, :3]
    
    def get_scale(self):
        return self.scale
        
    # Setter methods
    def set_id(self, object_id):
        self.id = object_id

    def set_pose(self, pose):
        self.pose = pose

    def set_restitution(self, restitution):
        self.restitution = restitution

    def set_friction(self, friction):
        self.friction = friction

    def set_damping(self, damping):
        self.damping = damping

    def set_transparency(self, transparency):
        self.transparency = transparency

    def set_velocity(self, velocity):
        self.velocity = velocity

    def set_angular_velocity(self, angular_velocity):
        self.angular_velocity = angular_velocity

    def set_mass(self, mass):
        self.mass = mass

    def set_texture(self, texture):
        self.texture = texture

    def set_color(self, color):
        self.color = color

    def set_position(self, position):
        self.pose[:3, 3] = position

    def set_orientation(self, orientation):
        self.pose[:3, :3] = orientation

    def set_scale(self, scale):
        self.scale = scale


    # Miscellaneous methods
    def get_fields(self):
        return f&#34;Body ID: {self.id}, Pose: {self.pose}, Restitution: {self.restitution}, Friction: {self.friction}, Damping: {self.damping}, Transparency: {self.transparency}, Velocity: {self.velocity}, Texture: {self.texture}, Color: {self.color}&#34;
    
    def __str__(self):
        return f&#34;Body ID: {self.id}, Position: {self.get_position()}&#34;



class Scene:
    def __init__(self, id = None, bodies=None, camera=None, timestep = 1/60, light=None, gravity = [0,0,0], downsampling = 1, floor = True):
        self.scene_id = id if id is not None else &#34;scene&#34;
        self.bodies = bodies if bodies is not None else {}
        self.gravity = gravity
        self.timestep = timestep
        self.camera = Camera()
        self.floor = floor
        self.pyb_sim = None
        self.downsampling = downsampling


    def add_body(self, body: Body):
        self.bodies[body.id] = body
        return self.bodies
    
    def add_bodies(self, bodies: list):
        for body in bodies:
            self.add_body(body)
        return self.bodies

    def remove_body(self, body_id):
        if body_id not in self.bodies:
            raise ValueError(&#34;Body not in scene&#34;)
        else:
            del self.bodies[body_id]
        return self.bodies
    
    def remove_bodies(self, body_ids):
        for body_id in body_ids:
            self.remove_body(body_id)
            print(&#39;removed body: &#39;, body_id)
        return self.bodies
    
    def get_bodies(self):
        return self.bodies
    
    def set_floor(self, floor):
        self.floor = floor
        return self.floor

    def set_camera_position_target(self, position, target):
        self.camera.position_target = True
        self.camera.position = position
        self.camera.target = target
        return self.camera
    
    def set_camera_pose(self, pose):
        self.camera.position_target = False
        self.camera.pose = pose
        return self.camera

    def set_light(self, light: Body):
        self.light = light 
        return self.light
    
    def set_gravity(self, gravity):
        self.gravity = gravity
        return self.gravity
    
    def set_downsampling(self, downsampling):
        self.downsampling = downsampling
        return self.downsampling
    
    def set_timestep(self, timestep):
        self.timestep = timestep
        return self.timestep
    
    def render(self, render_func):
        image = render_func(self)
        return image
    
    def simulate(self, timesteps):
        # create physics simulator 
        pyb = PybulletSimulator(timestep=self.timestep, gravity=self.gravity, camera = self.camera, downsampling = self.downsampling, floor = self.floor )
        self.pyb_sim = pyb

        # add bodies to physics simulator
        for body in self.bodies.values():
            pyb.add_body_to_simulation(body)

        # simulate for timesteps
        pyb.simulate(timesteps)
        # returns pybullet simulation, which you can obtain a gif, poses from. 
        return pyb

    def close(self): 
        if self.pyb_sim == None: 
            raise ValueError(&#34;No pybullet simulation to close&#34;)
        else:
            p.disconnect(self.pyb_sim.client)

    def __str__(self):
        body_str = &#34;\n&#34;.join([&#34;    &#34; + str(body) for body in self.bodies.values()])
        return f&#34;Scene ID: {self.scene_id}\nBodies:\n{body_str}&#34;
    

# TODO: reduce exposure 
class Camera(object):
    def __init__(self, position_target=True, position=None, near=0.1, far=100.0, fov=60, width=960, height=720,
                up_vector=None, distance=7, yaw=0, pitch=-30, roll=0, intrinsics=None):
        self.position_target = position_target
        self.position = [0, -5.5, 3] if position is None else position
        self.target = [0, 0, 0]
        self.pose = None
        self.near = near
        self.far = far
        self.fov = fov
        self.fx,self.fy, self.cx,self.cy = (
        500.0,500.0,
        320.0,240.0
        )
        self.width = width
        self.height = height
        self.up_vector = [0, 0, 1] if up_vector is None else up_vector
        self.distance = distance
        self.yaw = yaw
        self.pitch = pitch
        self.roll = roll
        self.intrinsics = intrinsics

    def __str__(self) -&gt; str:
        return f&#34;Camera: position_target = {self.position_target}, position={self.position}, target={self.target}, pose={self.pose}, near={self.near}, far={self.far}, fov={self.fov}, width={self.width}, height={self.height}, up_vector={self.up_vector}, distance={self.distance}, yaw={self.yaw}, pitch={self.pitch}, roll={self.roll}, intrinsics={self.intrinsics}&#34;
    
class PybulletSimulator(object):
    def __init__(self, timestep=1/60, gravity=[0,0,0], floor_restitution=0.5, camera = None, downsampling=1, floor = True):
        self.timestep = timestep
        self.gravity = gravity
        self.client = p.connect(p.DIRECT)
        self.step_count = 0
        self.frames = [] 
        self.depth = []
        self.pyb_id_to_body_id = {}
        self.body_poses = {}
        self.camera = camera
        self.downsampling = downsampling
        self.floor = floor 

        # Set up the simulation environment
        p.resetSimulation(physicsClientId=self.client)
        p.setGravity(self.gravity[0], self.gravity[1], self.gravity[2], physicsClientId=self.client)
        p.setPhysicsEngineParameter(fixedTimeStep=self.timestep, physicsClientId=self.client)
        if self.floor:
            p.setAdditionalSearchPath(pybullet_data.getDataPath())
            self.plane_id = p.loadURDF(&#34;plane.urdf&#34;, physicsClientId=self.client)
            p.changeDynamics(self.plane_id, -1, restitution=floor_restitution)
    
    def add_body_to_simulation(self, body):
        &#34;&#34;&#34;
        Add a body to the pybullet simulation.
        :param body: a Body object.
        :return: None
        &#34;&#34;&#34;
        # vertices = body.mesh.vertices.tolist()
        # faces = body.mesh.faces.ravel().tolist()
        obj_file_dir = body.file_dir
        mesh_scale = body.scale


        # Create visual and collision shapes
        visualShapeId = p.createVisualShape(shapeType=p.GEOM_MESH, 
                                            # vertices=vertices, 
                                            # indices=faces,
                                            fileName = obj_file_dir,
                                            meshScale = mesh_scale,
                                            physicsClientId=self.client,
                                            rgbaColor=np.append(body.color, body.transparency),
                                            )
        
        collisionShapeId = p.createCollisionShape(shapeType=p.GEOM_MESH,
                                                # vertices=vertices, 
                                                # indices=faces,
                                                fileName = obj_file_dir,
                                                meshScale = mesh_scale,
                                                physicsClientId=self.client, 
                                                )

        # Get the orientation matrix
        rot_matrix = body.get_orientation()

        # Convert the rotation matrix to quaternion
        r = R.from_matrix(rot_matrix)
        quaternion = r.as_quat()

        # Create a multibody with the created shapes
        pyb_id = p.createMultiBody(baseMass=body.mass,
                                    baseCollisionShapeIndex=collisionShapeId,
                                    baseVisualShapeIndex=visualShapeId, 
                                    basePosition=body.get_position(),
                                    baseOrientation=quaternion,
                                    physicsClientId=self.client,
                                    )


        # Set physical properties
        p.changeDynamics(pyb_id, -1, restitution=body.restitution, lateralFriction=body.friction, 
                        linearDamping=body.damping, physicsClientId=self.client)

        # Set initial velocity if specified
        if body.velocity != [0,0,0] or body.angular_velocity != [0,0,0]:
            p.resetBaseVelocity(pyb_id, linearVelocity=body.velocity, angularVelocity = body.angular_velocity, physicsClientId=self.client)
# 
        # If texture is specified, load it
        if body.texture is not None:
            textureId = p.loadTexture(body.texture, physicsClientId=self.client)
            p.changeVisualShape(pyb_id, -1, textureUniqueId=textureId, physicsClientId=self.client)

        # Add to mapping from pybullet id to body id
        self.pyb_id_to_body_id[pyb_id] = body.id
        self.body_poses[body.id] = []

    def check_collision(self):
        for body in self.pyb_id_to_body_id.keys():
            collisions = p.getContactPoints(bodyA=body, physicsClientId=self.client)
            if len(collisions) &gt; 0:
                print(f&#34;Body {body} is colliding.&#34;)

    def step_simulation(self):
        self.step_count+=1
        p.stepSimulation(physicsClientId=self.client)
    
    def update_body_poses(self):
        for pyb_id in self.pyb_id_to_body_id.keys():
            position, orientation = p.getBasePositionAndOrientation(pyb_id, physicsClientId=self.client)
            orientation = p.getRotationMatrixFromQuaternion(orientation)
            pose = np.eye(4)
            pose[:3, :3] = orientation
            pose[:3, 3] = position
            self.body_poses[self.pyb_id_to_body_id[pyb_id]].append(pose)
    
    def simulate(self, steps): 
        # returns frames, poses of objects over time
        for i in range(steps):
            # if i % self.downsampling == 0:
                # rgb, depth, segm = self.capture_image(self.camera)
                # self.frames.append(rgb)
                # self.update_body_poses()
            self.step_simulation()

        self.close()
    
    def capture_image(self, camera):
        if camera.position_target:
            projMatrix = p.computeProjectionMatrixFOV(fov=camera.fov, aspect=float(camera.width) / camera.height, nearVal=camera.near, farVal=camera.far)
            viewMatrix = p.computeViewMatrix(cameraEyePosition=camera.position, cameraTargetPosition=camera.target, cameraUpVector=camera.up_vector)
        else:
            projMatrix = (
            2*camera.fx/camera.width,0,0,0,
            0,2*camera.fy/camera.height,0,0,
            2*(camera.cx/camera.width)-1,2*(camera.cy/camera.height)-1,-(camera.far+camera.near)/(camera.far-camera.near),
            -1,0,0,-2*camera.far*camera.near/(camera.far-camera.near),0
            )
            mat = np.array(t3d.transform_from_rot(t3d.rotation_from_axis_angle(jnp.array([1.0, 0.0, 0.0]),jnp.pi)))
            viewMatrix = tuple(np.linalg.inv(np.array(camera.pose).dot(mat)).T.reshape(-1))

        _,_, rgb, depth, segmentation = p.getCameraImage(camera.width, camera.height,
            viewMatrix,
            projMatrix,
            renderer=p.ER_BULLET_HARDWARE_OPENGL
        )

        rgb = np.array(rgb, dtype=np.uint8).reshape((camera.height, camera.width, 4))
        depth_buffer = np.reshape(depth, (camera.height, camera.width))
        far = camera.far
        near = camera.near
        depth = far * near / (far - (far - near) * depth_buffer)
        depth[depth &gt; camera.far] = 0.0
        segmentation = np.array(segmentation).reshape((camera.height, camera.width))
        return rgb, depth_buffer, segmentation
    
    def create_gif(self, path, fps=15):
        imageio.mimsave(path, self.frames, duration = (1000 * (1/fps)))
        
    def set_velocity(self, obj_id):
        return
    
    # adjusts the timestep of the simulation
    def set_timestep(self, dt):
        self.timestep = dt
        p.setPhysicsEngineParameter(fixedTimeStep=self.timestep, physicsClientId=self.client)

    # adjusts the gravity of the simulation
    def set_gravity(self, g):
        self.gravity = g
        p.setGravity(self.gravity[0],self.gravity[1], self.gravity[2], physicsClientId=self.client)

    def close(self):
        p.resetSimulation(physicsClientId=self.client)
        p.disconnect(self.client)
    
    # returns a mapping of body_id to poses over time
    def get_object_poses(self):
        return self.body_poses

    def add_plane(self):
        return</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="bayes3d.pybullet_sim.create_box"><code class="name flex">
<span>def <span class="ident">create_box</span></span>(<span>position, scale=[1, 1, 1], restitution=1, friction=0, velocity=0, angular_velocity=[0, 0, 0], orientation=None, id=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a box-shaped Body object.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_box(position, scale=[1,1,1], restitution=1, friction=0, velocity=0, angular_velocity = [0,0,0], orientation=None, id=None):
    &#34;&#34;&#34;
    Creates a box-shaped Body object.
    &#34;&#34;&#34;
    path_to_box = &#34;../assets/sample_objs/cube.obj&#34;
    mesh = tm.load(path_to_box)
    pose = np.eye(4)
    pose[:3, :3] = orientation if orientation is not None else np.eye(3)
    pose[:3, 3] = position
    obj_id = &#34;box&#34; if id is None else id
    body = Body(obj_id, pose, mesh, file_dir=path_to_box, restitution=restitution, friction=friction, velocity=velocity, angular_velocity=angular_velocity, scale=scale)
    return body</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.create_sphere"><code class="name flex">
<span>def <span class="ident">create_sphere</span></span>(<span>position, scale=[1, 1, 1], velocity=0, angular_velocity=[0, 0, 0], restitution=1, friction=0, id=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a sphere-shaped Body object.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code>np.ndarray</code></dt>
<dd>The position of the sphere.</dd>
<dt><strong><code>radius</code></strong> :&ensp;<code>float</code></dt>
<dd>The radius of the sphere.</dd>
<dt><strong><code>velocity</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The initial velocity of the sphere. Default is 0.</dd>
<dt><strong><code>restitution</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The restitution coefficient of the sphere. Default is 1.</dd>
<dt><strong><code>friction</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The friction coefficient of the sphere. Default is 0.</dd>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The ID of the sphere. Default is None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a></code></dt>
<dd>The created Body object representing the sphere.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_sphere(position, scale = [1,1,1], velocity=0, angular_velocity = [0,0,0], restitution=1, friction=0, id=None):
    &#34;&#34;&#34;
    Creates a sphere-shaped Body object.

    Args:
        position (np.ndarray): The position of the sphere.
        radius (float): The radius of the sphere.
        velocity (float, optional): The initial velocity of the sphere. Default is 0.
        restitution (float, optional): The restitution coefficient of the sphere. Default is 1.
        friction (float, optional): The friction coefficient of the sphere. Default is 0.
        id (str, optional): The ID of the sphere. Default is None.

    Returns:
        Body: The created Body object representing the sphere.
    &#34;&#34;&#34;
    path_to_sphere = &#34;../assets/sample_objs/sphere.obj&#34;
    mesh = tm.load(path_to_sphere)
    pose = np.eye(4)
    pose[:3, 3] = position
    obj_id = &#34;sphere&#34; if id is None else id
    body = Body(obj_id, pose, mesh, file_dir=path_to_sphere, restitution=restitution, friction=friction, velocity=velocity, angular_velocity=angular_velocity, scale = scale)
    return body</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.make_body_from_obj"><code class="name flex">
<span>def <span class="ident">make_body_from_obj</span></span>(<span>obj_path, position, friction=0, restitution=1, velocity=0, angular_velocity=[0, 0, 0], orientation=None, id=None, scale=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a Body object from an OBJ file with a given position.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>obj_path</code></strong> :&ensp;<code>str</code></dt>
<dd>The path to the OBJ file.</dd>
<dt><strong><code>position</code></strong> :&ensp;<code>np.ndarray</code></dt>
<dd>The position of the object.</dd>
<dt><strong><code>friction</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The friction coefficient of the object. Default is 0.</dd>
<dt><strong><code>restitution</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The restitution coefficient of the object. Default is 1.</dd>
<dt><strong><code>velocity</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The initial velocity of the object. Default is 0.</dd>
<dt><strong><code>orientation</code></strong> :&ensp;<code>np.ndarray</code>, optional</dt>
<dd>The orientation of the object as a rotation matrix. Default is None.</dd>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The ID of the object. Default is None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a></code></dt>
<dd>The created Body object.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def make_body_from_obj(obj_path, position, friction=0, restitution=1, velocity=0, angular_velocity = [0,0,0], orientation=None, id=None, scale=None):
    &#34;&#34;&#34;
    Creates a Body object from an OBJ file with a given position.

    Args:
        obj_path (str): The path to the OBJ file.
        position (np.ndarray): The position of the object.
        friction (float, optional): The friction coefficient of the object. Default is 0.
        restitution (float, optional): The restitution coefficient of the object. Default is 1.
        velocity (float, optional): The initial velocity of the object. Default is 0.
        orientation (np.ndarray, optional): The orientation of the object as a rotation matrix. Default is None.
        id (str, optional): The ID of the object. Default is None.

    Returns:
        Body: The created Body object.
    &#34;&#34;&#34;
    pose = np.eye(4)
    pose[:3, :3] = orientation if orientation is not None else np.eye(3)
    pose[:3, 3] = position
    return make_body_from_obj_pose(obj_path, pose, id=id, friction=friction, restitution=restitution, velocity=velocity, scale=scale, angular_velocity=angular_velocity)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.make_body_from_obj_pose"><code class="name flex">
<span>def <span class="ident">make_body_from_obj_pose</span></span>(<span>obj_path, pose, velocity=0, angular_velocity=[0, 0, 0], restitution=1, friction=0, id=None, scale=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a Body object from an OBJ file with a given pose.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>obj_path</code></strong> :&ensp;<code>str</code></dt>
<dd>The path to the OBJ file.</dd>
<dt><strong><code>pose</code></strong> :&ensp;<code>np.ndarray</code></dt>
<dd>The pose of the object.</dd>
<dt><strong><code>velocity</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The initial velocity of the object. Default is 0.</dd>
<dt><strong><code>restitution</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The restitution coefficient of the object. Default is 1.</dd>
<dt><strong><code>friction</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>The friction coefficient of the object. Default is 0.</dd>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The ID of the object. Default is None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a></code></dt>
<dd>The created Body object.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def make_body_from_obj_pose(obj_path, pose, velocity=0, angular_velocity = [0,0,0], restitution=1, friction=0, id=None, scale = None ):
    &#34;&#34;&#34;
    Creates a Body object from an OBJ file with a given pose.

    Args:
        obj_path (str): The path to the OBJ file.
        pose (np.ndarray): The pose of the object.
        velocity (float, optional): The initial velocity of the object. Default is 0.
        restitution (float, optional): The restitution coefficient of the object. Default is 1.
        friction (float, optional): The friction coefficient of the object. Default is 0.
        id (str, optional): The ID of the object. Default is None.

    Returns:
        Body: The created Body object.
    &#34;&#34;&#34;
    mesh = tm.load(obj_path)
    obj_id = &#34;obj_mesh&#34; if id is None else id
    body = Body(obj_id, pose, mesh, velocity=velocity, angular_velocity = angular_velocity, friction=friction, restitution=restitution, file_dir=obj_path, scale = scale)
    return body</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.o3d_render"><code class="name flex">
<span>def <span class="ident">o3d_render</span></span>(<span>scene)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def o3d_render(scene): 
    intrinsics = o3d.camera.PinholeCameraIntrinsic()
    renderer = b.o3d_viz.O3DVis(intrinsics=intrinsics) 
    for body in scene.bodies.values():
        mesh = body.mesh
        pose = body.pose
        renderer.render_mesh(mesh, pose)
    camera_pose = scene.camera.pose
    image = renderer.render(camera_pose)
    return image</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.o3d_to_pybullet_pose"><code class="name flex">
<span>def <span class="ident">o3d_to_pybullet_pose</span></span>(<span>o3d_pose)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def o3d_to_pybullet_pose(o3d_pose):
    pybullet_pose = o3d_pose
    pybullet_pose[3, :3] = -pybullet_pose[3, :3]  # Convert rotation from Open3D to PyBullet
    return pybullet_pose</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.o3d_to_pybullet_position"><code class="name flex">
<span>def <span class="ident">o3d_to_pybullet_position</span></span>(<span>o3d_position)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def o3d_to_pybullet_position(o3d_position):
    return np.array(o3d_position)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.o3d_to_trimesh"><code class="name flex">
<span>def <span class="ident">o3d_to_trimesh</span></span>(<span>mesh)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def o3d_to_trimesh(mesh):
    vertices = np.asarray(mesh.vertices)
    faces = np.asarray(mesh.triangles)
    mesh.compute_triangle_normals()
    mesh.compute_vertex_normals()
    tri_normals = np.asarray(mesh.triangle_normals)
    vert_normals = np.asarray(mesh.vertex_normals)
    mesh = tm.Trimesh(vertices=vertices, faces=faces, vertex_normals=vert_normals, face_normals=tri_normals)
    return mesh</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.pybullet_render"><code class="name flex">
<span>def <span class="ident">pybullet_render</span></span>(<span>scene)</span>
</code></dt>
<dd>
<div class="desc"><p>Renders a scene using PyBullet.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>scene</code></strong> :&ensp;<code><a title="bayes3d.pybullet_sim.Scene" href="#bayes3d.pybullet_sim.Scene">Scene</a></code></dt>
<dd>The scene object.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>PIL.Image.Image</code></dt>
<dd>The rendered image.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pybullet_render(scene):
    &#34;&#34;&#34;
    Renders a scene using PyBullet.

    Args:
        scene (Scene): The scene object.

    Returns:
        PIL.Image.Image: The rendered image.
    &#34;&#34;&#34;
    pyb_sim = PybulletSimulator(camera=scene.camera, floor = scene.floor)
    for body in scene.bodies.values():
        pyb_sim.add_body_to_simulation(body)
    image_rgb, depth, _ = pyb_sim.capture_image(scene.camera)
    pyb_sim.close()
    image = Image.fromarray(image_rgb)
    depth = depth - (min(depth.flatten()))
    depth = depth / (max(depth.flatten()))
    depth = depth * 255
    depth = depth.astype(np.uint8)
    depth = Image.fromarray(depth)
    return image, depth</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.pybullet_to_o3d_pose"><code class="name flex">
<span>def <span class="ident">pybullet_to_o3d_pose</span></span>(<span>pybullet_pose)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pybullet_to_o3d_pose(pybullet_pose):
    o3d_pose = pybullet_pose
    o3d_pose[3, :3] = -o3d_pose[3, :3]  # Convert rotation from PyBullet to Open3D
    return o3d_pose</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.pybullet_to_o3d_position"><code class="name flex">
<span>def <span class="ident">pybullet_to_o3d_position</span></span>(<span>pybullet_position)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pybullet_to_o3d_position(pybullet_position):
    return pybullet_position</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="bayes3d.pybullet_sim.Body"><code class="flex name class">
<span>class <span class="ident">Body</span></span>
<span>(</span><span>object_id, pose, mesh, file_dir=None, restitution=0.8, friction=0, damping=0, transparency=1, velocity=[0, 0, 0], angular_velocity=[0, 0, 0], mass=1, texture=None, color=[1, 0, 0], scale=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Body:
    def __init__(self, object_id, pose, mesh, file_dir = None, restitution=0.8, friction=0, damping=0, transparency=1, velocity=[0,0,0], angular_velocity = [0,0,0],mass=1, texture=None, color=[1, 0, 0], scale=None):
        self.id = object_id
        self.pose = pose
        self.restitution = restitution
        self.friction = friction
        self.damping = damping
        self.transparency = transparency
        self.velocity = velocity
        self.angular_velocity = angular_velocity
        self.texture = texture
        self.color = color
        self.mass = mass
        self.file_dir = file_dir
        self.mesh = mesh
        self.scale = scale

    # Getter methods
    def get_id(self):
        return self.id

    def get_pose(self):
        return self.pose

    def get_mesh(self):
        return self.mesh

    def get_restitution(self):
        return self.restitution

    def get_friction(self):
        return self.friction

    def get_damping(self):
        return self.damping

    def get_transparency(self):
        return self.transparency

    def get_velocity(self):
        return self.velocity
    
    def get_angular_velocity(self):
        return self.angular_velocity

    def get_mass(self):
        return self.mass

    def get_texture(self):
        return self.texture

    def get_color(self):
        return self.color

    def get_position(self):
        return self.pose[:3, 3]

    def get_orientation(self):
        return self.pose[:3, :3]
    
    def get_scale(self):
        return self.scale
        
    # Setter methods
    def set_id(self, object_id):
        self.id = object_id

    def set_pose(self, pose):
        self.pose = pose

    def set_restitution(self, restitution):
        self.restitution = restitution

    def set_friction(self, friction):
        self.friction = friction

    def set_damping(self, damping):
        self.damping = damping

    def set_transparency(self, transparency):
        self.transparency = transparency

    def set_velocity(self, velocity):
        self.velocity = velocity

    def set_angular_velocity(self, angular_velocity):
        self.angular_velocity = angular_velocity

    def set_mass(self, mass):
        self.mass = mass

    def set_texture(self, texture):
        self.texture = texture

    def set_color(self, color):
        self.color = color

    def set_position(self, position):
        self.pose[:3, 3] = position

    def set_orientation(self, orientation):
        self.pose[:3, :3] = orientation

    def set_scale(self, scale):
        self.scale = scale


    # Miscellaneous methods
    def get_fields(self):
        return f&#34;Body ID: {self.id}, Pose: {self.pose}, Restitution: {self.restitution}, Friction: {self.friction}, Damping: {self.damping}, Transparency: {self.transparency}, Velocity: {self.velocity}, Texture: {self.texture}, Color: {self.color}&#34;
    
    def __str__(self):
        return f&#34;Body ID: {self.id}, Position: {self.get_position()}&#34;</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="bayes3d.pybullet_sim.Body.get_angular_velocity"><code class="name flex">
<span>def <span class="ident">get_angular_velocity</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_angular_velocity(self):
    return self.angular_velocity</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_color"><code class="name flex">
<span>def <span class="ident">get_color</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_color(self):
    return self.color</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_damping"><code class="name flex">
<span>def <span class="ident">get_damping</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_damping(self):
    return self.damping</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_fields"><code class="name flex">
<span>def <span class="ident">get_fields</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_fields(self):
    return f&#34;Body ID: {self.id}, Pose: {self.pose}, Restitution: {self.restitution}, Friction: {self.friction}, Damping: {self.damping}, Transparency: {self.transparency}, Velocity: {self.velocity}, Texture: {self.texture}, Color: {self.color}&#34;</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_friction"><code class="name flex">
<span>def <span class="ident">get_friction</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_friction(self):
    return self.friction</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_id"><code class="name flex">
<span>def <span class="ident">get_id</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_id(self):
    return self.id</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_mass"><code class="name flex">
<span>def <span class="ident">get_mass</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_mass(self):
    return self.mass</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_mesh"><code class="name flex">
<span>def <span class="ident">get_mesh</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_mesh(self):
    return self.mesh</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_orientation"><code class="name flex">
<span>def <span class="ident">get_orientation</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_orientation(self):
    return self.pose[:3, :3]</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_pose"><code class="name flex">
<span>def <span class="ident">get_pose</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_pose(self):
    return self.pose</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_position"><code class="name flex">
<span>def <span class="ident">get_position</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_position(self):
    return self.pose[:3, 3]</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_restitution"><code class="name flex">
<span>def <span class="ident">get_restitution</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_restitution(self):
    return self.restitution</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_scale"><code class="name flex">
<span>def <span class="ident">get_scale</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_scale(self):
    return self.scale</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_texture"><code class="name flex">
<span>def <span class="ident">get_texture</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_texture(self):
    return self.texture</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_transparency"><code class="name flex">
<span>def <span class="ident">get_transparency</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_transparency(self):
    return self.transparency</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.get_velocity"><code class="name flex">
<span>def <span class="ident">get_velocity</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_velocity(self):
    return self.velocity</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_angular_velocity"><code class="name flex">
<span>def <span class="ident">set_angular_velocity</span></span>(<span>self, angular_velocity)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_angular_velocity(self, angular_velocity):
    self.angular_velocity = angular_velocity</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_color"><code class="name flex">
<span>def <span class="ident">set_color</span></span>(<span>self, color)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_color(self, color):
    self.color = color</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_damping"><code class="name flex">
<span>def <span class="ident">set_damping</span></span>(<span>self, damping)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_damping(self, damping):
    self.damping = damping</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_friction"><code class="name flex">
<span>def <span class="ident">set_friction</span></span>(<span>self, friction)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_friction(self, friction):
    self.friction = friction</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_id"><code class="name flex">
<span>def <span class="ident">set_id</span></span>(<span>self, object_id)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_id(self, object_id):
    self.id = object_id</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_mass"><code class="name flex">
<span>def <span class="ident">set_mass</span></span>(<span>self, mass)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_mass(self, mass):
    self.mass = mass</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_orientation"><code class="name flex">
<span>def <span class="ident">set_orientation</span></span>(<span>self, orientation)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_orientation(self, orientation):
    self.pose[:3, :3] = orientation</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_pose"><code class="name flex">
<span>def <span class="ident">set_pose</span></span>(<span>self, pose)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_pose(self, pose):
    self.pose = pose</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_position"><code class="name flex">
<span>def <span class="ident">set_position</span></span>(<span>self, position)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_position(self, position):
    self.pose[:3, 3] = position</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_restitution"><code class="name flex">
<span>def <span class="ident">set_restitution</span></span>(<span>self, restitution)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_restitution(self, restitution):
    self.restitution = restitution</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_scale"><code class="name flex">
<span>def <span class="ident">set_scale</span></span>(<span>self, scale)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_scale(self, scale):
    self.scale = scale</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_texture"><code class="name flex">
<span>def <span class="ident">set_texture</span></span>(<span>self, texture)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_texture(self, texture):
    self.texture = texture</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_transparency"><code class="name flex">
<span>def <span class="ident">set_transparency</span></span>(<span>self, transparency)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_transparency(self, transparency):
    self.transparency = transparency</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Body.set_velocity"><code class="name flex">
<span>def <span class="ident">set_velocity</span></span>(<span>self, velocity)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_velocity(self, velocity):
    self.velocity = velocity</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bayes3d.pybullet_sim.Camera"><code class="flex name class">
<span>class <span class="ident">Camera</span></span>
<span>(</span><span>position_target=True, position=None, near=0.1, far=100.0, fov=60, width=960, height=720, up_vector=None, distance=7, yaw=0, pitch=-30, roll=0, intrinsics=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Camera(object):
    def __init__(self, position_target=True, position=None, near=0.1, far=100.0, fov=60, width=960, height=720,
                up_vector=None, distance=7, yaw=0, pitch=-30, roll=0, intrinsics=None):
        self.position_target = position_target
        self.position = [0, -5.5, 3] if position is None else position
        self.target = [0, 0, 0]
        self.pose = None
        self.near = near
        self.far = far
        self.fov = fov
        self.fx,self.fy, self.cx,self.cy = (
        500.0,500.0,
        320.0,240.0
        )
        self.width = width
        self.height = height
        self.up_vector = [0, 0, 1] if up_vector is None else up_vector
        self.distance = distance
        self.yaw = yaw
        self.pitch = pitch
        self.roll = roll
        self.intrinsics = intrinsics

    def __str__(self) -&gt; str:
        return f&#34;Camera: position_target = {self.position_target}, position={self.position}, target={self.target}, pose={self.pose}, near={self.near}, far={self.far}, fov={self.fov}, width={self.width}, height={self.height}, up_vector={self.up_vector}, distance={self.distance}, yaw={self.yaw}, pitch={self.pitch}, roll={self.roll}, intrinsics={self.intrinsics}&#34;</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator"><code class="flex name class">
<span>class <span class="ident">PybulletSimulator</span></span>
<span>(</span><span>timestep=0.016666666666666666, gravity=[0, 0, 0], floor_restitution=0.5, camera=None, downsampling=1, floor=True)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PybulletSimulator(object):
    def __init__(self, timestep=1/60, gravity=[0,0,0], floor_restitution=0.5, camera = None, downsampling=1, floor = True):
        self.timestep = timestep
        self.gravity = gravity
        self.client = p.connect(p.DIRECT)
        self.step_count = 0
        self.frames = [] 
        self.depth = []
        self.pyb_id_to_body_id = {}
        self.body_poses = {}
        self.camera = camera
        self.downsampling = downsampling
        self.floor = floor 

        # Set up the simulation environment
        p.resetSimulation(physicsClientId=self.client)
        p.setGravity(self.gravity[0], self.gravity[1], self.gravity[2], physicsClientId=self.client)
        p.setPhysicsEngineParameter(fixedTimeStep=self.timestep, physicsClientId=self.client)
        if self.floor:
            p.setAdditionalSearchPath(pybullet_data.getDataPath())
            self.plane_id = p.loadURDF(&#34;plane.urdf&#34;, physicsClientId=self.client)
            p.changeDynamics(self.plane_id, -1, restitution=floor_restitution)
    
    def add_body_to_simulation(self, body):
        &#34;&#34;&#34;
        Add a body to the pybullet simulation.
        :param body: a Body object.
        :return: None
        &#34;&#34;&#34;
        # vertices = body.mesh.vertices.tolist()
        # faces = body.mesh.faces.ravel().tolist()
        obj_file_dir = body.file_dir
        mesh_scale = body.scale


        # Create visual and collision shapes
        visualShapeId = p.createVisualShape(shapeType=p.GEOM_MESH, 
                                            # vertices=vertices, 
                                            # indices=faces,
                                            fileName = obj_file_dir,
                                            meshScale = mesh_scale,
                                            physicsClientId=self.client,
                                            rgbaColor=np.append(body.color, body.transparency),
                                            )
        
        collisionShapeId = p.createCollisionShape(shapeType=p.GEOM_MESH,
                                                # vertices=vertices, 
                                                # indices=faces,
                                                fileName = obj_file_dir,
                                                meshScale = mesh_scale,
                                                physicsClientId=self.client, 
                                                )

        # Get the orientation matrix
        rot_matrix = body.get_orientation()

        # Convert the rotation matrix to quaternion
        r = R.from_matrix(rot_matrix)
        quaternion = r.as_quat()

        # Create a multibody with the created shapes
        pyb_id = p.createMultiBody(baseMass=body.mass,
                                    baseCollisionShapeIndex=collisionShapeId,
                                    baseVisualShapeIndex=visualShapeId, 
                                    basePosition=body.get_position(),
                                    baseOrientation=quaternion,
                                    physicsClientId=self.client,
                                    )


        # Set physical properties
        p.changeDynamics(pyb_id, -1, restitution=body.restitution, lateralFriction=body.friction, 
                        linearDamping=body.damping, physicsClientId=self.client)

        # Set initial velocity if specified
        if body.velocity != [0,0,0] or body.angular_velocity != [0,0,0]:
            p.resetBaseVelocity(pyb_id, linearVelocity=body.velocity, angularVelocity = body.angular_velocity, physicsClientId=self.client)
# 
        # If texture is specified, load it
        if body.texture is not None:
            textureId = p.loadTexture(body.texture, physicsClientId=self.client)
            p.changeVisualShape(pyb_id, -1, textureUniqueId=textureId, physicsClientId=self.client)

        # Add to mapping from pybullet id to body id
        self.pyb_id_to_body_id[pyb_id] = body.id
        self.body_poses[body.id] = []

    def check_collision(self):
        for body in self.pyb_id_to_body_id.keys():
            collisions = p.getContactPoints(bodyA=body, physicsClientId=self.client)
            if len(collisions) &gt; 0:
                print(f&#34;Body {body} is colliding.&#34;)

    def step_simulation(self):
        self.step_count+=1
        p.stepSimulation(physicsClientId=self.client)
    
    def update_body_poses(self):
        for pyb_id in self.pyb_id_to_body_id.keys():
            position, orientation = p.getBasePositionAndOrientation(pyb_id, physicsClientId=self.client)
            orientation = p.getRotationMatrixFromQuaternion(orientation)
            pose = np.eye(4)
            pose[:3, :3] = orientation
            pose[:3, 3] = position
            self.body_poses[self.pyb_id_to_body_id[pyb_id]].append(pose)
    
    def simulate(self, steps): 
        # returns frames, poses of objects over time
        for i in range(steps):
            # if i % self.downsampling == 0:
                # rgb, depth, segm = self.capture_image(self.camera)
                # self.frames.append(rgb)
                # self.update_body_poses()
            self.step_simulation()

        self.close()
    
    def capture_image(self, camera):
        if camera.position_target:
            projMatrix = p.computeProjectionMatrixFOV(fov=camera.fov, aspect=float(camera.width) / camera.height, nearVal=camera.near, farVal=camera.far)
            viewMatrix = p.computeViewMatrix(cameraEyePosition=camera.position, cameraTargetPosition=camera.target, cameraUpVector=camera.up_vector)
        else:
            projMatrix = (
            2*camera.fx/camera.width,0,0,0,
            0,2*camera.fy/camera.height,0,0,
            2*(camera.cx/camera.width)-1,2*(camera.cy/camera.height)-1,-(camera.far+camera.near)/(camera.far-camera.near),
            -1,0,0,-2*camera.far*camera.near/(camera.far-camera.near),0
            )
            mat = np.array(t3d.transform_from_rot(t3d.rotation_from_axis_angle(jnp.array([1.0, 0.0, 0.0]),jnp.pi)))
            viewMatrix = tuple(np.linalg.inv(np.array(camera.pose).dot(mat)).T.reshape(-1))

        _,_, rgb, depth, segmentation = p.getCameraImage(camera.width, camera.height,
            viewMatrix,
            projMatrix,
            renderer=p.ER_BULLET_HARDWARE_OPENGL
        )

        rgb = np.array(rgb, dtype=np.uint8).reshape((camera.height, camera.width, 4))
        depth_buffer = np.reshape(depth, (camera.height, camera.width))
        far = camera.far
        near = camera.near
        depth = far * near / (far - (far - near) * depth_buffer)
        depth[depth &gt; camera.far] = 0.0
        segmentation = np.array(segmentation).reshape((camera.height, camera.width))
        return rgb, depth_buffer, segmentation
    
    def create_gif(self, path, fps=15):
        imageio.mimsave(path, self.frames, duration = (1000 * (1/fps)))
        
    def set_velocity(self, obj_id):
        return
    
    # adjusts the timestep of the simulation
    def set_timestep(self, dt):
        self.timestep = dt
        p.setPhysicsEngineParameter(fixedTimeStep=self.timestep, physicsClientId=self.client)

    # adjusts the gravity of the simulation
    def set_gravity(self, g):
        self.gravity = g
        p.setGravity(self.gravity[0],self.gravity[1], self.gravity[2], physicsClientId=self.client)

    def close(self):
        p.resetSimulation(physicsClientId=self.client)
        p.disconnect(self.client)
    
    # returns a mapping of body_id to poses over time
    def get_object_poses(self):
        return self.body_poses

    def add_plane(self):
        return</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.add_body_to_simulation"><code class="name flex">
<span>def <span class="ident">add_body_to_simulation</span></span>(<span>self, body)</span>
</code></dt>
<dd>
<div class="desc"><p>Add a body to the pybullet simulation.
:param body: a Body object.
:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">    def add_body_to_simulation(self, body):
        &#34;&#34;&#34;
        Add a body to the pybullet simulation.
        :param body: a Body object.
        :return: None
        &#34;&#34;&#34;
        # vertices = body.mesh.vertices.tolist()
        # faces = body.mesh.faces.ravel().tolist()
        obj_file_dir = body.file_dir
        mesh_scale = body.scale


        # Create visual and collision shapes
        visualShapeId = p.createVisualShape(shapeType=p.GEOM_MESH, 
                                            # vertices=vertices, 
                                            # indices=faces,
                                            fileName = obj_file_dir,
                                            meshScale = mesh_scale,
                                            physicsClientId=self.client,
                                            rgbaColor=np.append(body.color, body.transparency),
                                            )
        
        collisionShapeId = p.createCollisionShape(shapeType=p.GEOM_MESH,
                                                # vertices=vertices, 
                                                # indices=faces,
                                                fileName = obj_file_dir,
                                                meshScale = mesh_scale,
                                                physicsClientId=self.client, 
                                                )

        # Get the orientation matrix
        rot_matrix = body.get_orientation()

        # Convert the rotation matrix to quaternion
        r = R.from_matrix(rot_matrix)
        quaternion = r.as_quat()

        # Create a multibody with the created shapes
        pyb_id = p.createMultiBody(baseMass=body.mass,
                                    baseCollisionShapeIndex=collisionShapeId,
                                    baseVisualShapeIndex=visualShapeId, 
                                    basePosition=body.get_position(),
                                    baseOrientation=quaternion,
                                    physicsClientId=self.client,
                                    )


        # Set physical properties
        p.changeDynamics(pyb_id, -1, restitution=body.restitution, lateralFriction=body.friction, 
                        linearDamping=body.damping, physicsClientId=self.client)

        # Set initial velocity if specified
        if body.velocity != [0,0,0] or body.angular_velocity != [0,0,0]:
            p.resetBaseVelocity(pyb_id, linearVelocity=body.velocity, angularVelocity = body.angular_velocity, physicsClientId=self.client)
# 
        # If texture is specified, load it
        if body.texture is not None:
            textureId = p.loadTexture(body.texture, physicsClientId=self.client)
            p.changeVisualShape(pyb_id, -1, textureUniqueId=textureId, physicsClientId=self.client)

        # Add to mapping from pybullet id to body id
        self.pyb_id_to_body_id[pyb_id] = body.id
        self.body_poses[body.id] = []</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.add_plane"><code class="name flex">
<span>def <span class="ident">add_plane</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_plane(self):
    return</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.capture_image"><code class="name flex">
<span>def <span class="ident">capture_image</span></span>(<span>self, camera)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def capture_image(self, camera):
    if camera.position_target:
        projMatrix = p.computeProjectionMatrixFOV(fov=camera.fov, aspect=float(camera.width) / camera.height, nearVal=camera.near, farVal=camera.far)
        viewMatrix = p.computeViewMatrix(cameraEyePosition=camera.position, cameraTargetPosition=camera.target, cameraUpVector=camera.up_vector)
    else:
        projMatrix = (
        2*camera.fx/camera.width,0,0,0,
        0,2*camera.fy/camera.height,0,0,
        2*(camera.cx/camera.width)-1,2*(camera.cy/camera.height)-1,-(camera.far+camera.near)/(camera.far-camera.near),
        -1,0,0,-2*camera.far*camera.near/(camera.far-camera.near),0
        )
        mat = np.array(t3d.transform_from_rot(t3d.rotation_from_axis_angle(jnp.array([1.0, 0.0, 0.0]),jnp.pi)))
        viewMatrix = tuple(np.linalg.inv(np.array(camera.pose).dot(mat)).T.reshape(-1))

    _,_, rgb, depth, segmentation = p.getCameraImage(camera.width, camera.height,
        viewMatrix,
        projMatrix,
        renderer=p.ER_BULLET_HARDWARE_OPENGL
    )

    rgb = np.array(rgb, dtype=np.uint8).reshape((camera.height, camera.width, 4))
    depth_buffer = np.reshape(depth, (camera.height, camera.width))
    far = camera.far
    near = camera.near
    depth = far * near / (far - (far - near) * depth_buffer)
    depth[depth &gt; camera.far] = 0.0
    segmentation = np.array(segmentation).reshape((camera.height, camera.width))
    return rgb, depth_buffer, segmentation</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.check_collision"><code class="name flex">
<span>def <span class="ident">check_collision</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def check_collision(self):
    for body in self.pyb_id_to_body_id.keys():
        collisions = p.getContactPoints(bodyA=body, physicsClientId=self.client)
        if len(collisions) &gt; 0:
            print(f&#34;Body {body} is colliding.&#34;)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close(self):
    p.resetSimulation(physicsClientId=self.client)
    p.disconnect(self.client)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.create_gif"><code class="name flex">
<span>def <span class="ident">create_gif</span></span>(<span>self, path, fps=15)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_gif(self, path, fps=15):
    imageio.mimsave(path, self.frames, duration = (1000 * (1/fps)))</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.get_object_poses"><code class="name flex">
<span>def <span class="ident">get_object_poses</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_object_poses(self):
    return self.body_poses</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.set_gravity"><code class="name flex">
<span>def <span class="ident">set_gravity</span></span>(<span>self, g)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_gravity(self, g):
    self.gravity = g
    p.setGravity(self.gravity[0],self.gravity[1], self.gravity[2], physicsClientId=self.client)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.set_timestep"><code class="name flex">
<span>def <span class="ident">set_timestep</span></span>(<span>self, dt)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_timestep(self, dt):
    self.timestep = dt
    p.setPhysicsEngineParameter(fixedTimeStep=self.timestep, physicsClientId=self.client)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.set_velocity"><code class="name flex">
<span>def <span class="ident">set_velocity</span></span>(<span>self, obj_id)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_velocity(self, obj_id):
    return</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.simulate"><code class="name flex">
<span>def <span class="ident">simulate</span></span>(<span>self, steps)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def simulate(self, steps): 
    # returns frames, poses of objects over time
    for i in range(steps):
        # if i % self.downsampling == 0:
            # rgb, depth, segm = self.capture_image(self.camera)
            # self.frames.append(rgb)
            # self.update_body_poses()
        self.step_simulation()

    self.close()</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.step_simulation"><code class="name flex">
<span>def <span class="ident">step_simulation</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def step_simulation(self):
    self.step_count+=1
    p.stepSimulation(physicsClientId=self.client)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.PybulletSimulator.update_body_poses"><code class="name flex">
<span>def <span class="ident">update_body_poses</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_body_poses(self):
    for pyb_id in self.pyb_id_to_body_id.keys():
        position, orientation = p.getBasePositionAndOrientation(pyb_id, physicsClientId=self.client)
        orientation = p.getRotationMatrixFromQuaternion(orientation)
        pose = np.eye(4)
        pose[:3, :3] = orientation
        pose[:3, 3] = position
        self.body_poses[self.pyb_id_to_body_id[pyb_id]].append(pose)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="bayes3d.pybullet_sim.Scene"><code class="flex name class">
<span>class <span class="ident">Scene</span></span>
<span>(</span><span>id=None, bodies=None, camera=None, timestep=0.016666666666666666, light=None, gravity=[0, 0, 0], downsampling=1, floor=True)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Scene:
    def __init__(self, id = None, bodies=None, camera=None, timestep = 1/60, light=None, gravity = [0,0,0], downsampling = 1, floor = True):
        self.scene_id = id if id is not None else &#34;scene&#34;
        self.bodies = bodies if bodies is not None else {}
        self.gravity = gravity
        self.timestep = timestep
        self.camera = Camera()
        self.floor = floor
        self.pyb_sim = None
        self.downsampling = downsampling


    def add_body(self, body: Body):
        self.bodies[body.id] = body
        return self.bodies
    
    def add_bodies(self, bodies: list):
        for body in bodies:
            self.add_body(body)
        return self.bodies

    def remove_body(self, body_id):
        if body_id not in self.bodies:
            raise ValueError(&#34;Body not in scene&#34;)
        else:
            del self.bodies[body_id]
        return self.bodies
    
    def remove_bodies(self, body_ids):
        for body_id in body_ids:
            self.remove_body(body_id)
            print(&#39;removed body: &#39;, body_id)
        return self.bodies
    
    def get_bodies(self):
        return self.bodies
    
    def set_floor(self, floor):
        self.floor = floor
        return self.floor

    def set_camera_position_target(self, position, target):
        self.camera.position_target = True
        self.camera.position = position
        self.camera.target = target
        return self.camera
    
    def set_camera_pose(self, pose):
        self.camera.position_target = False
        self.camera.pose = pose
        return self.camera

    def set_light(self, light: Body):
        self.light = light 
        return self.light
    
    def set_gravity(self, gravity):
        self.gravity = gravity
        return self.gravity
    
    def set_downsampling(self, downsampling):
        self.downsampling = downsampling
        return self.downsampling
    
    def set_timestep(self, timestep):
        self.timestep = timestep
        return self.timestep
    
    def render(self, render_func):
        image = render_func(self)
        return image
    
    def simulate(self, timesteps):
        # create physics simulator 
        pyb = PybulletSimulator(timestep=self.timestep, gravity=self.gravity, camera = self.camera, downsampling = self.downsampling, floor = self.floor )
        self.pyb_sim = pyb

        # add bodies to physics simulator
        for body in self.bodies.values():
            pyb.add_body_to_simulation(body)

        # simulate for timesteps
        pyb.simulate(timesteps)
        # returns pybullet simulation, which you can obtain a gif, poses from. 
        return pyb

    def close(self): 
        if self.pyb_sim == None: 
            raise ValueError(&#34;No pybullet simulation to close&#34;)
        else:
            p.disconnect(self.pyb_sim.client)

    def __str__(self):
        body_str = &#34;\n&#34;.join([&#34;    &#34; + str(body) for body in self.bodies.values()])
        return f&#34;Scene ID: {self.scene_id}\nBodies:\n{body_str}&#34;</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="bayes3d.pybullet_sim.Scene.add_bodies"><code class="name flex">
<span>def <span class="ident">add_bodies</span></span>(<span>self, bodies:list)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_bodies(self, bodies: list):
    for body in bodies:
        self.add_body(body)
    return self.bodies</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.add_body"><code class="name flex">
<span>def <span class="ident">add_body</span></span>(<span>self, body:<a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_body(self, body: Body):
    self.bodies[body.id] = body
    return self.bodies</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close(self): 
    if self.pyb_sim == None: 
        raise ValueError(&#34;No pybullet simulation to close&#34;)
    else:
        p.disconnect(self.pyb_sim.client)</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.get_bodies"><code class="name flex">
<span>def <span class="ident">get_bodies</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_bodies(self):
    return self.bodies</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.remove_bodies"><code class="name flex">
<span>def <span class="ident">remove_bodies</span></span>(<span>self, body_ids)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remove_bodies(self, body_ids):
    for body_id in body_ids:
        self.remove_body(body_id)
        print(&#39;removed body: &#39;, body_id)
    return self.bodies</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.remove_body"><code class="name flex">
<span>def <span class="ident">remove_body</span></span>(<span>self, body_id)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remove_body(self, body_id):
    if body_id not in self.bodies:
        raise ValueError(&#34;Body not in scene&#34;)
    else:
        del self.bodies[body_id]
    return self.bodies</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, render_func)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, render_func):
    image = render_func(self)
    return image</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_camera_pose"><code class="name flex">
<span>def <span class="ident">set_camera_pose</span></span>(<span>self, pose)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_camera_pose(self, pose):
    self.camera.position_target = False
    self.camera.pose = pose
    return self.camera</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_camera_position_target"><code class="name flex">
<span>def <span class="ident">set_camera_position_target</span></span>(<span>self, position, target)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_camera_position_target(self, position, target):
    self.camera.position_target = True
    self.camera.position = position
    self.camera.target = target
    return self.camera</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_downsampling"><code class="name flex">
<span>def <span class="ident">set_downsampling</span></span>(<span>self, downsampling)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_downsampling(self, downsampling):
    self.downsampling = downsampling
    return self.downsampling</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_floor"><code class="name flex">
<span>def <span class="ident">set_floor</span></span>(<span>self, floor)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_floor(self, floor):
    self.floor = floor
    return self.floor</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_gravity"><code class="name flex">
<span>def <span class="ident">set_gravity</span></span>(<span>self, gravity)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_gravity(self, gravity):
    self.gravity = gravity
    return self.gravity</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_light"><code class="name flex">
<span>def <span class="ident">set_light</span></span>(<span>self, light:<a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_light(self, light: Body):
    self.light = light 
    return self.light</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.set_timestep"><code class="name flex">
<span>def <span class="ident">set_timestep</span></span>(<span>self, timestep)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_timestep(self, timestep):
    self.timestep = timestep
    return self.timestep</code></pre>
</details>
</dd>
<dt id="bayes3d.pybullet_sim.Scene.simulate"><code class="name flex">
<span>def <span class="ident">simulate</span></span>(<span>self, timesteps)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def simulate(self, timesteps):
    # create physics simulator 
    pyb = PybulletSimulator(timestep=self.timestep, gravity=self.gravity, camera = self.camera, downsampling = self.downsampling, floor = self.floor )
    self.pyb_sim = pyb

    # add bodies to physics simulator
    for body in self.bodies.values():
        pyb.add_body_to_simulation(body)

    # simulate for timesteps
    pyb.simulate(timesteps)
    # returns pybullet simulation, which you can obtain a gif, poses from. 
    return pyb</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="bayes3d" href="index.html">bayes3d</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="bayes3d.pybullet_sim.create_box" href="#bayes3d.pybullet_sim.create_box">create_box</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.create_sphere" href="#bayes3d.pybullet_sim.create_sphere">create_sphere</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.make_body_from_obj" href="#bayes3d.pybullet_sim.make_body_from_obj">make_body_from_obj</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.make_body_from_obj_pose" href="#bayes3d.pybullet_sim.make_body_from_obj_pose">make_body_from_obj_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.o3d_render" href="#bayes3d.pybullet_sim.o3d_render">o3d_render</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.o3d_to_pybullet_pose" href="#bayes3d.pybullet_sim.o3d_to_pybullet_pose">o3d_to_pybullet_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.o3d_to_pybullet_position" href="#bayes3d.pybullet_sim.o3d_to_pybullet_position">o3d_to_pybullet_position</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.o3d_to_trimesh" href="#bayes3d.pybullet_sim.o3d_to_trimesh">o3d_to_trimesh</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.pybullet_render" href="#bayes3d.pybullet_sim.pybullet_render">pybullet_render</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.pybullet_to_o3d_pose" href="#bayes3d.pybullet_sim.pybullet_to_o3d_pose">pybullet_to_o3d_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.pybullet_to_o3d_position" href="#bayes3d.pybullet_sim.pybullet_to_o3d_position">pybullet_to_o3d_position</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="bayes3d.pybullet_sim.Body" href="#bayes3d.pybullet_sim.Body">Body</a></code></h4>
<ul class="">
<li><code><a title="bayes3d.pybullet_sim.Body.get_angular_velocity" href="#bayes3d.pybullet_sim.Body.get_angular_velocity">get_angular_velocity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_color" href="#bayes3d.pybullet_sim.Body.get_color">get_color</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_damping" href="#bayes3d.pybullet_sim.Body.get_damping">get_damping</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_fields" href="#bayes3d.pybullet_sim.Body.get_fields">get_fields</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_friction" href="#bayes3d.pybullet_sim.Body.get_friction">get_friction</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_id" href="#bayes3d.pybullet_sim.Body.get_id">get_id</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_mass" href="#bayes3d.pybullet_sim.Body.get_mass">get_mass</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_mesh" href="#bayes3d.pybullet_sim.Body.get_mesh">get_mesh</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_orientation" href="#bayes3d.pybullet_sim.Body.get_orientation">get_orientation</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_pose" href="#bayes3d.pybullet_sim.Body.get_pose">get_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_position" href="#bayes3d.pybullet_sim.Body.get_position">get_position</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_restitution" href="#bayes3d.pybullet_sim.Body.get_restitution">get_restitution</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_scale" href="#bayes3d.pybullet_sim.Body.get_scale">get_scale</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_texture" href="#bayes3d.pybullet_sim.Body.get_texture">get_texture</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_transparency" href="#bayes3d.pybullet_sim.Body.get_transparency">get_transparency</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.get_velocity" href="#bayes3d.pybullet_sim.Body.get_velocity">get_velocity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_angular_velocity" href="#bayes3d.pybullet_sim.Body.set_angular_velocity">set_angular_velocity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_color" href="#bayes3d.pybullet_sim.Body.set_color">set_color</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_damping" href="#bayes3d.pybullet_sim.Body.set_damping">set_damping</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_friction" href="#bayes3d.pybullet_sim.Body.set_friction">set_friction</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_id" href="#bayes3d.pybullet_sim.Body.set_id">set_id</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_mass" href="#bayes3d.pybullet_sim.Body.set_mass">set_mass</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_orientation" href="#bayes3d.pybullet_sim.Body.set_orientation">set_orientation</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_pose" href="#bayes3d.pybullet_sim.Body.set_pose">set_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_position" href="#bayes3d.pybullet_sim.Body.set_position">set_position</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_restitution" href="#bayes3d.pybullet_sim.Body.set_restitution">set_restitution</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_scale" href="#bayes3d.pybullet_sim.Body.set_scale">set_scale</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_texture" href="#bayes3d.pybullet_sim.Body.set_texture">set_texture</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_transparency" href="#bayes3d.pybullet_sim.Body.set_transparency">set_transparency</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Body.set_velocity" href="#bayes3d.pybullet_sim.Body.set_velocity">set_velocity</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bayes3d.pybullet_sim.Camera" href="#bayes3d.pybullet_sim.Camera">Camera</a></code></h4>
</li>
<li>
<h4><code><a title="bayes3d.pybullet_sim.PybulletSimulator" href="#bayes3d.pybullet_sim.PybulletSimulator">PybulletSimulator</a></code></h4>
<ul class="">
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.add_body_to_simulation" href="#bayes3d.pybullet_sim.PybulletSimulator.add_body_to_simulation">add_body_to_simulation</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.add_plane" href="#bayes3d.pybullet_sim.PybulletSimulator.add_plane">add_plane</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.capture_image" href="#bayes3d.pybullet_sim.PybulletSimulator.capture_image">capture_image</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.check_collision" href="#bayes3d.pybullet_sim.PybulletSimulator.check_collision">check_collision</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.close" href="#bayes3d.pybullet_sim.PybulletSimulator.close">close</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.create_gif" href="#bayes3d.pybullet_sim.PybulletSimulator.create_gif">create_gif</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.get_object_poses" href="#bayes3d.pybullet_sim.PybulletSimulator.get_object_poses">get_object_poses</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.set_gravity" href="#bayes3d.pybullet_sim.PybulletSimulator.set_gravity">set_gravity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.set_timestep" href="#bayes3d.pybullet_sim.PybulletSimulator.set_timestep">set_timestep</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.set_velocity" href="#bayes3d.pybullet_sim.PybulletSimulator.set_velocity">set_velocity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.simulate" href="#bayes3d.pybullet_sim.PybulletSimulator.simulate">simulate</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.step_simulation" href="#bayes3d.pybullet_sim.PybulletSimulator.step_simulation">step_simulation</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.PybulletSimulator.update_body_poses" href="#bayes3d.pybullet_sim.PybulletSimulator.update_body_poses">update_body_poses</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="bayes3d.pybullet_sim.Scene" href="#bayes3d.pybullet_sim.Scene">Scene</a></code></h4>
<ul class="">
<li><code><a title="bayes3d.pybullet_sim.Scene.add_bodies" href="#bayes3d.pybullet_sim.Scene.add_bodies">add_bodies</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.add_body" href="#bayes3d.pybullet_sim.Scene.add_body">add_body</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.close" href="#bayes3d.pybullet_sim.Scene.close">close</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.get_bodies" href="#bayes3d.pybullet_sim.Scene.get_bodies">get_bodies</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.remove_bodies" href="#bayes3d.pybullet_sim.Scene.remove_bodies">remove_bodies</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.remove_body" href="#bayes3d.pybullet_sim.Scene.remove_body">remove_body</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.render" href="#bayes3d.pybullet_sim.Scene.render">render</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_camera_pose" href="#bayes3d.pybullet_sim.Scene.set_camera_pose">set_camera_pose</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_camera_position_target" href="#bayes3d.pybullet_sim.Scene.set_camera_position_target">set_camera_position_target</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_downsampling" href="#bayes3d.pybullet_sim.Scene.set_downsampling">set_downsampling</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_floor" href="#bayes3d.pybullet_sim.Scene.set_floor">set_floor</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_gravity" href="#bayes3d.pybullet_sim.Scene.set_gravity">set_gravity</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_light" href="#bayes3d.pybullet_sim.Scene.set_light">set_light</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.set_timestep" href="#bayes3d.pybullet_sim.Scene.set_timestep">set_timestep</a></code></li>
<li><code><a title="bayes3d.pybullet_sim.Scene.simulate" href="#bayes3d.pybullet_sim.Scene.simulate">simulate</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>